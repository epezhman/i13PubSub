<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>i13 Publisher</title>
	<link rel="shortcut icon" href="../assets/img/p.png">
	<link rel="stylesheet" href="../assets/stylesheets/photon/css/photon.css">
	<link href="../assets/stylesheets/css/main.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="window">
	<div class="window-content">
		<div class="pane-group">
			<div class="pane">
				<div class="content-container">
					<h3>Publish Messages</h3>
					<hr>
					<table>
						<tr>
							<td valign="top" class="td-topics">
								<div class="radio">
									<label style="font-weight: bold">
										<input type="radio" name="publish-type" value="topic" checked>
										Topic-Based Matching
									</label>
								</div>
								<div class="form-group">
									<label>Topics</label>
									<br>
									<input class="form-control" placeholder="Topics" id="pub-topics">
									<p class="help-block">The topics can be separated by comma</p>
								</div>
							</td>
							<td valign="top" class="td-predicates">
								<div class="radio">
									<label style="font-weight: bold">
										<input type="radio" name="publish-type" value="content">
										Content-Based Matching
									</label>
								</div>
								<div class="form-group">
									<label>Predicates</label>
									<br>
									<textarea class="form-control" rows="5" id="predicates"
											  placeholder="Predicates"></textarea>
									<p class="help-block">
										Example: Stock:IBM,Price:100
										<br>
										Note: Time decoupling is not available for content-based matching
									</p>
								</div>
							</td>
							<td valign="top" class="td-functions">
								<div class="radio">
									<label style="font-weight: bold">
										<input type="radio" name="publish-type" value="function-match">
										Function-Based Matching
									</label>
								</div>
								<div class="form-group">
									<label>Function Type</label>
									<br>
									<input class="form-control" placeholder="Function Type" id="pub-function-type">
								</div>
							</td>
						</tr>
					</table>
					<hr>
					<form id="pub-form">
						<div class="form-group">
							<label>Message</label>
							<textarea class="form-control" rows="3" id="pub-message" placeholder="Message"></textarea>
						</div>
						<div class="form-group">
							<label>Counter</label>
							<span class="form-control" id="counter-span">0</span>
						</div>
						<div class="form-actions">
							<button type="reset" class="btn btn-form btn-default">Cancel</button>
							<button type="button" class="btn btn-form btn-primary" id="pub-submit">Publish Message
							</button>
							<button type="button" class="btn btn-form btn-primary" id="pub-submit-counter">Publish
								Counter
							</button>
						</div>
						<div class=form-control"">
							<p class="help-block success" id="pub-published" style="display: none">Message Published!</p>
							<p class="help-block error" id="pub-error-topics" style="display: none">Topics Missing!</p>
							<p class="help-block error" id="pub-error-function" style="display: none">Function Type Missing!</p>
							<p class="help-block error" id="pub-error-predicates" style="display: none">Predicates Missing or Wrong Format!</p>
							<p class="help-block error" id="pub-error-message" style="display: none">Message Missing!</p>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>
<script>
	if (typeof module === 'object') {
		window.module = module;
		module = undefined;
	}
</script>
<script src="../node_modules/jquery/dist/jquery.js"></script>
<script src="publisher.js"></script>
</body>
</html>
