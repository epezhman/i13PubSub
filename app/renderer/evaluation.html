<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>i13 Publisher</title>
	<link rel="shortcut icon" href="../assets/img/p.png">
	<link rel="stylesheet" href="../assets/stylesheets/photon/css/photon.css">
	<link href="../assets/stylesheets/css/main.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="window">
	<div class="window-content">
		<div class="pane-group">
			<div class="pane">
				<div class="content-container">
					<h3>Broker Evaluation</h3>
					<hr>
					<table>
						<tr>
							<td valign="top" class="td-eval-settings">
								<h5>Evaluation Setting</h5>
								<div class="form-group">
									<label>Number of Subscribers</label>
									<br>
									<input class="form-control watch-change" type="number" id="sub-count" value="50">
									<p class="help-block">Maximum 1000 subscriber devices</p>
								</div>
								<div class="form-group">
									<label>Number of Publications</label>
									<br>
									<input class="form-control" type="number" id="message-count"
										   value="10">
									<p class="help-block">Maximum 100 publications</p>
								</div>
								<div class="form-group">
									<label>Delay between Publications (ms)</label>
									<br>
									<input class="form-control" type="number" id="delay-ms" value="100">
								</div>
								<div class="form-group">
									<label>Number of Assigned Topics (only valid for topic-based matching)</label>
									<br>
									<input class="form-control watch-change" type="number" id="assigned-topics"
										   value="1">
									<p class="help-block">Maximum 5 topics</p>
								</div>
								<div class="radio">
									<label>
										<input type="radio" name="evaluation-type" class="watch-change"
											   value="topic-stateful">
										Stateful Topic-based matching
									</label>
								</div>
								<div class="radio">
									<label>
										<input type="radio" name="evaluation-type" class="watch-change"
											   value="topic-semi-stateful">
										Semi-stateful Topic-based matching
									</label>
								</div>
								<div class="radio">
									<label>
										<input type="radio" name="evaluation-type" class="watch-change"
											   value="topic-semi-stateful-with-time-decoupling">
										Semi-stateful Topic-based matching with Time-decoupling
									</label>
								</div>
								<div class="radio">
									<label>
										<input type="radio" name="evaluation-type" class=" watch-change"
											   value="content">
										Semi-stateful Content-based matching
									</label>
								</div>
							</td>
							<td valign="top" class="td-eval-result">
								<h5>Evaluation Result</h5>
								<div class="form-group">
									<label>Number of Online Subscribers</label>
									<br>
									<input class="form-control" id="online-subscribers" value="0">
								</div>
								<div class="form-group">
									<label>Number of Sent Publications</label>
									<br>
									<input class="form-control" id="sent-publication" value="0">
								</div>
								<div class="form-group">
									<label>Number of Received Publications</label>
									<br>
									<input class="form-control" id="got-publication" value="0">
								</div>
								<div class="form-group">
									<label>Average Publications Time (ms)</label>
									<br>
									<input class="form-control" id="publications-time" value="0">
								</div>
								<div class="form-group">
									<label>Average Suibscriptions Time (ms)</label>
									<br>
									<input class="form-control" id="subscriptions-time" value="0">
								</div>
								<div class="form-group">
									<label>Evaluation Status</label>
									<br>
									<span class="form-control" id="evaluation-status"
										  style="color:#1a82fb;">Not Running</span>
									<p class="help-block">Failure means Cloudant or OpenWhisk hit the limits and
										<br> number of publications should decrease or delay should increase</p>
								</div>
							</td>
						</tr>
					</table>
					<hr>
					<div class="form-actions">
						<button type="reset" class="btn btn-form btn-default" id="init-eval">Initialize</button>
						<button type="button" class="btn btn-form btn-primary" id="run-eval" style="display: none">
							Execute Evaluation
						</button>
					</div>
					<p class="help-block success" id="eval-ready" style="display: none">Ready for Evaluations!</p>
					<p class="help-block success" id="setting-missing" style="display: none">Some Parameters are
						Missing!</p>
				</div>
			</div>
		</div>
	</div>
</div>
<script>
	if (typeof module === 'object') {
		window.module = module;
		module = undefined;
	}
</script>
<script src="../node_modules/jquery/dist/jquery.js"></script>
<script src="evaluation.js"></script>
</body>
</html>
